import { PrismaService } from '../prisma/prisma.service';
import { CreateTransactionDto } from './dto/create-transaction.dto';
import { UpdateTransactionDto } from './dto/update-transaction.dto';
import { CurrencyExchangeRateService } from '../currency-exchange-rate/currency-exchange-rate.service';
import { BonusService } from '../bonus/bonus.service';
export declare class TransactionService {
    private prisma;
    private currencyExchangeRateService;
    private bonusService;
    constructor(prisma: PrismaService, currencyExchangeRateService: CurrencyExchangeRateService, bonusService: BonusService);
    create(createTransactionDto: CreateTransactionDto, userId?: number): Promise<{
        customer: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            fullName: string;
            phone: string;
            email: string | null;
            address: string | null;
            passportSeries: string | null;
            jshshir: string | null;
        } | null;
        user: {
            id: number;
            status: import(".prisma/client").$Enums.UserStatus;
            createdAt: Date;
            updatedAt: Date;
            phone: string | null;
            firstName: string | null;
            lastName: string | null;
            username: string;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            branchId: number | null;
            workStartTime: string | null;
            workEndTime: string | null;
            workShift: string | null;
        } | null;
        soldBy: {
            id: number;
            status: import(".prisma/client").$Enums.UserStatus;
            createdAt: Date;
            updatedAt: Date;
            phone: string | null;
            firstName: string | null;
            lastName: string | null;
            username: string;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            branchId: number | null;
            workStartTime: string | null;
            workEndTime: string | null;
            workShift: string | null;
        } | null;
        items: ({
            product: {
                id: number;
                status: import(".prisma/client").$Enums.ProductStatus;
                createdAt: Date | null;
                updatedAt: Date | null;
                name: string;
                quantity: number;
                price: number;
                branchId: number;
                barcode: string | null;
                model: string | null;
                defectiveQuantity: number;
                returnedQuantity: number;
                exchangedQuantity: number;
                initialQuantity: number;
                categoryId: number;
                marketPrice: number | null;
                bonusPercentage: number | null;
                isDeleted: boolean;
                deletedAt: Date | null;
                sizeType: import(".prisma/client").$Enums.ProductSizeType;
                sizeLabel: string | null;
                sizeNumber: number | null;
                areaSqm: number | null;
            } | null;
        } & {
            id: number;
            status: string | null;
            total: number;
            createdAt: Date;
            updatedAt: Date;
            quantity: number;
            price: number;
            sellingPrice: number | null;
            originalPrice: number | null;
            creditMonth: number | null;
            creditPercent: number | null;
            monthlyPayment: number | null;
            productId: number | null;
            transactionId: number;
        })[];
        paymentSchedules: {
            id: number;
            remainingBalance: number;
            creditRepaymentAmount: number | null;
            createdAt: Date;
            transactionId: number;
            month: number;
            payment: number;
            isPaid: boolean;
            paidAmount: number;
            paidAt: Date | null;
            paidChannel: string | null;
            paidByUserId: number | null;
            repaymentDate: Date | null;
            rating: string | null;
            dueDate: Date | null;
            isDailyInstallment: boolean;
            daysCount: number | null;
            installmentType: string | null;
            totalDays: number | null;
            remainingDays: number | null;
            totalMonths: number | null;
            remainingMonths: number | null;
        }[];
    } & {
        id: number;
        customerId: number | null;
        userId: number | null;
        soldByUserId: number | null;
        fromBranchId: number | null;
        toBranchId: number | null;
        type: import(".prisma/client").$Enums.TransactionType;
        transactionType: string | null;
        status: import(".prisma/client").$Enums.TransactionStatus;
        discount: number;
        total: number;
        finalTotal: number;
        paymentType: import(".prisma/client").$Enums.PaymentType | null;
        upfrontPaymentType: string | null;
        termUnit: string | null;
        deliveryMethod: string | null;
        deliveryType: string | null;
        deliveryAddress: string | null;
        amountPaid: number | null;
        downPayment: number | null;
        remainingBalance: number | null;
        receiptId: string | null;
        description: string | null;
        updatedById: number | null;
        creditRepaymentAmount: number | null;
        lastRepaymentDate: Date | null;
        extraProfit: number | null;
        days: number | null;
        months: number | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    private calculateMonthlyPayment;
    private createDailyPaymentSchedule;
    private createPaymentSchedule;
    private updateProductQuantities;
    findAll(query?: any): Promise<{
        transactions: ({
            customer: {
                id: number;
                createdAt: Date;
                updatedAt: Date;
                fullName: string;
                phone: string;
                email: string | null;
                address: string | null;
                passportSeries: string | null;
                jshshir: string | null;
            } | null;
            user: {
                id: number;
                status: import(".prisma/client").$Enums.UserStatus;
                createdAt: Date;
                updatedAt: Date;
                phone: string | null;
                firstName: string | null;
                lastName: string | null;
                username: string;
                password: string | null;
                role: import(".prisma/client").$Enums.UserRole;
                branchId: number | null;
                workStartTime: string | null;
                workEndTime: string | null;
                workShift: string | null;
            } | null;
            soldBy: {
                id: number;
                status: import(".prisma/client").$Enums.UserStatus;
                createdAt: Date;
                updatedAt: Date;
                phone: string | null;
                firstName: string | null;
                lastName: string | null;
                username: string;
                password: string | null;
                role: import(".prisma/client").$Enums.UserRole;
                branchId: number | null;
                workStartTime: string | null;
                workEndTime: string | null;
                workShift: string | null;
            } | null;
            fromBranch: {
                id: number;
                type: import(".prisma/client").$Enums.BranchType;
                status: import(".prisma/client").$Enums.BranchStatus;
                createdAt: Date;
                updatedAt: Date;
                address: string | null;
                name: string;
                cashBalance: number;
                phoneNumber: string | null;
            } | null;
            toBranch: {
                id: number;
                type: import(".prisma/client").$Enums.BranchType;
                status: import(".prisma/client").$Enums.BranchStatus;
                createdAt: Date;
                updatedAt: Date;
                address: string | null;
                name: string;
                cashBalance: number;
                phoneNumber: string | null;
            } | null;
            items: ({
                product: {
                    id: number;
                    status: import(".prisma/client").$Enums.ProductStatus;
                    createdAt: Date | null;
                    updatedAt: Date | null;
                    name: string;
                    quantity: number;
                    price: number;
                    branchId: number;
                    barcode: string | null;
                    model: string | null;
                    defectiveQuantity: number;
                    returnedQuantity: number;
                    exchangedQuantity: number;
                    initialQuantity: number;
                    categoryId: number;
                    marketPrice: number | null;
                    bonusPercentage: number | null;
                    isDeleted: boolean;
                    deletedAt: Date | null;
                    sizeType: import(".prisma/client").$Enums.ProductSizeType;
                    sizeLabel: string | null;
                    sizeNumber: number | null;
                    areaSqm: number | null;
                } | null;
            } & {
                id: number;
                status: string | null;
                total: number;
                createdAt: Date;
                updatedAt: Date;
                quantity: number;
                price: number;
                sellingPrice: number | null;
                originalPrice: number | null;
                creditMonth: number | null;
                creditPercent: number | null;
                monthlyPayment: number | null;
                productId: number | null;
                transactionId: number;
            })[];
        } & {
            id: number;
            customerId: number | null;
            userId: number | null;
            soldByUserId: number | null;
            fromBranchId: number | null;
            toBranchId: number | null;
            type: import(".prisma/client").$Enums.TransactionType;
            transactionType: string | null;
            status: import(".prisma/client").$Enums.TransactionStatus;
            discount: number;
            total: number;
            finalTotal: number;
            paymentType: import(".prisma/client").$Enums.PaymentType | null;
            upfrontPaymentType: string | null;
            termUnit: string | null;
            deliveryMethod: string | null;
            deliveryType: string | null;
            deliveryAddress: string | null;
            amountPaid: number | null;
            downPayment: number | null;
            remainingBalance: number | null;
            receiptId: string | null;
            description: string | null;
            updatedById: number | null;
            creditRepaymentAmount: number | null;
            lastRepaymentDate: Date | null;
            extraProfit: number | null;
            days: number | null;
            months: number | null;
            createdAt: Date;
            updatedAt: Date;
        })[];
        pagination: {
            page: number;
            limit: number;
            total: number;
            pages: number;
        };
    }>;
    findByProductId(productId: number, month?: string): Promise<{
        transactions: any[];
        statusCounts: {
            PENDING: number;
            COMPLETED: number;
            CANCELLED: number;
            total: number;
        };
        typeCounts: {
            SALE: number;
            PURCHASE: number;
            TRANSFER: number;
            RETURN: number;
            WRITE_OFF: number;
            STOCK_ADJUSTMENT: number;
        };
    }>;
    findOne(id: number): Promise<any>;
    findByType(type: string): Promise<({
        customer: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            fullName: string;
            phone: string;
            email: string | null;
            address: string | null;
            passportSeries: string | null;
            jshshir: string | null;
        } | null;
        user: {
            id: number;
            phone: string | null;
            firstName: string | null;
            lastName: string | null;
        } | null;
        items: ({
            product: {
                id: number;
                status: import(".prisma/client").$Enums.ProductStatus;
                createdAt: Date | null;
                updatedAt: Date | null;
                name: string;
                quantity: number;
                price: number;
                branchId: number;
                barcode: string | null;
                model: string | null;
                defectiveQuantity: number;
                returnedQuantity: number;
                exchangedQuantity: number;
                initialQuantity: number;
                categoryId: number;
                marketPrice: number | null;
                bonusPercentage: number | null;
                isDeleted: boolean;
                deletedAt: Date | null;
                sizeType: import(".prisma/client").$Enums.ProductSizeType;
                sizeLabel: string | null;
                sizeNumber: number | null;
                areaSqm: number | null;
            } | null;
        } & {
            id: number;
            status: string | null;
            total: number;
            createdAt: Date;
            updatedAt: Date;
            quantity: number;
            price: number;
            sellingPrice: number | null;
            originalPrice: number | null;
            creditMonth: number | null;
            creditPercent: number | null;
            monthlyPayment: number | null;
            productId: number | null;
            transactionId: number;
        })[];
    } & {
        id: number;
        customerId: number | null;
        userId: number | null;
        soldByUserId: number | null;
        fromBranchId: number | null;
        toBranchId: number | null;
        type: import(".prisma/client").$Enums.TransactionType;
        transactionType: string | null;
        status: import(".prisma/client").$Enums.TransactionStatus;
        discount: number;
        total: number;
        finalTotal: number;
        paymentType: import(".prisma/client").$Enums.PaymentType | null;
        upfrontPaymentType: string | null;
        termUnit: string | null;
        deliveryMethod: string | null;
        deliveryType: string | null;
        deliveryAddress: string | null;
        amountPaid: number | null;
        downPayment: number | null;
        remainingBalance: number | null;
        receiptId: string | null;
        description: string | null;
        updatedById: number | null;
        creditRepaymentAmount: number | null;
        lastRepaymentDate: Date | null;
        extraProfit: number | null;
        days: number | null;
        months: number | null;
        createdAt: Date;
        updatedAt: Date;
    })[]>;
    updateStatus(id: number, status: string, userId: number): Promise<{
        customer: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            fullName: string;
            phone: string;
            email: string | null;
            address: string | null;
            passportSeries: string | null;
            jshshir: string | null;
        } | null;
        items: ({
            product: {
                id: number;
                status: import(".prisma/client").$Enums.ProductStatus;
                createdAt: Date | null;
                updatedAt: Date | null;
                name: string;
                quantity: number;
                price: number;
                branchId: number;
                barcode: string | null;
                model: string | null;
                defectiveQuantity: number;
                returnedQuantity: number;
                exchangedQuantity: number;
                initialQuantity: number;
                categoryId: number;
                marketPrice: number | null;
                bonusPercentage: number | null;
                isDeleted: boolean;
                deletedAt: Date | null;
                sizeType: import(".prisma/client").$Enums.ProductSizeType;
                sizeLabel: string | null;
                sizeNumber: number | null;
                areaSqm: number | null;
            } | null;
        } & {
            id: number;
            status: string | null;
            total: number;
            createdAt: Date;
            updatedAt: Date;
            quantity: number;
            price: number;
            sellingPrice: number | null;
            originalPrice: number | null;
            creditMonth: number | null;
            creditPercent: number | null;
            monthlyPayment: number | null;
            productId: number | null;
            transactionId: number;
        })[];
    } & {
        id: number;
        customerId: number | null;
        userId: number | null;
        soldByUserId: number | null;
        fromBranchId: number | null;
        toBranchId: number | null;
        type: import(".prisma/client").$Enums.TransactionType;
        transactionType: string | null;
        status: import(".prisma/client").$Enums.TransactionStatus;
        discount: number;
        total: number;
        finalTotal: number;
        paymentType: import(".prisma/client").$Enums.PaymentType | null;
        upfrontPaymentType: string | null;
        termUnit: string | null;
        deliveryMethod: string | null;
        deliveryType: string | null;
        deliveryAddress: string | null;
        amountPaid: number | null;
        downPayment: number | null;
        remainingBalance: number | null;
        receiptId: string | null;
        description: string | null;
        updatedById: number | null;
        creditRepaymentAmount: number | null;
        lastRepaymentDate: Date | null;
        extraProfit: number | null;
        days: number | null;
        months: number | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    private processDeliveryCompletion;
    private hydrateMissingProducts;
    update(id: number, updateTransactionDto: UpdateTransactionDto): Promise<{
        customer: {
            id: number;
            createdAt: Date;
            updatedAt: Date;
            fullName: string;
            phone: string;
            email: string | null;
            address: string | null;
            passportSeries: string | null;
            jshshir: string | null;
        } | null;
        user: {
            id: number;
            status: import(".prisma/client").$Enums.UserStatus;
            createdAt: Date;
            updatedAt: Date;
            phone: string | null;
            firstName: string | null;
            lastName: string | null;
            username: string;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            branchId: number | null;
            workStartTime: string | null;
            workEndTime: string | null;
            workShift: string | null;
        } | null;
        soldBy: {
            id: number;
            status: import(".prisma/client").$Enums.UserStatus;
            createdAt: Date;
            updatedAt: Date;
            phone: string | null;
            firstName: string | null;
            lastName: string | null;
            username: string;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            branchId: number | null;
            workStartTime: string | null;
            workEndTime: string | null;
            workShift: string | null;
        } | null;
        fromBranch: {
            id: number;
            type: import(".prisma/client").$Enums.BranchType;
            status: import(".prisma/client").$Enums.BranchStatus;
            createdAt: Date;
            updatedAt: Date;
            address: string | null;
            name: string;
            cashBalance: number;
            phoneNumber: string | null;
        } | null;
        toBranch: {
            id: number;
            type: import(".prisma/client").$Enums.BranchType;
            status: import(".prisma/client").$Enums.BranchStatus;
            createdAt: Date;
            updatedAt: Date;
            address: string | null;
            name: string;
            cashBalance: number;
            phoneNumber: string | null;
        } | null;
        items: ({
            product: {
                id: number;
                status: import(".prisma/client").$Enums.ProductStatus;
                createdAt: Date | null;
                updatedAt: Date | null;
                name: string;
                quantity: number;
                price: number;
                branchId: number;
                barcode: string | null;
                model: string | null;
                defectiveQuantity: number;
                returnedQuantity: number;
                exchangedQuantity: number;
                initialQuantity: number;
                categoryId: number;
                marketPrice: number | null;
                bonusPercentage: number | null;
                isDeleted: boolean;
                deletedAt: Date | null;
                sizeType: import(".prisma/client").$Enums.ProductSizeType;
                sizeLabel: string | null;
                sizeNumber: number | null;
                areaSqm: number | null;
            } | null;
        } & {
            id: number;
            status: string | null;
            total: number;
            createdAt: Date;
            updatedAt: Date;
            quantity: number;
            price: number;
            sellingPrice: number | null;
            originalPrice: number | null;
            creditMonth: number | null;
            creditPercent: number | null;
            monthlyPayment: number | null;
            productId: number | null;
            transactionId: number;
        })[];
        paymentSchedules: {
            id: number;
            remainingBalance: number;
            creditRepaymentAmount: number | null;
            createdAt: Date;
            transactionId: number;
            month: number;
            payment: number;
            isPaid: boolean;
            paidAmount: number;
            paidAt: Date | null;
            paidChannel: string | null;
            paidByUserId: number | null;
            repaymentDate: Date | null;
            rating: string | null;
            dueDate: Date | null;
            isDailyInstallment: boolean;
            daysCount: number | null;
            installmentType: string | null;
            totalDays: number | null;
            remainingDays: number | null;
            totalMonths: number | null;
            remainingMonths: number | null;
        }[];
    } & {
        id: number;
        customerId: number | null;
        userId: number | null;
        soldByUserId: number | null;
        fromBranchId: number | null;
        toBranchId: number | null;
        type: import(".prisma/client").$Enums.TransactionType;
        transactionType: string | null;
        status: import(".prisma/client").$Enums.TransactionStatus;
        discount: number;
        total: number;
        finalTotal: number;
        paymentType: import(".prisma/client").$Enums.PaymentType | null;
        upfrontPaymentType: string | null;
        termUnit: string | null;
        deliveryMethod: string | null;
        deliveryType: string | null;
        deliveryAddress: string | null;
        amountPaid: number | null;
        downPayment: number | null;
        remainingBalance: number | null;
        receiptId: string | null;
        description: string | null;
        updatedById: number | null;
        creditRepaymentAmount: number | null;
        lastRepaymentDate: Date | null;
        extraProfit: number | null;
        days: number | null;
        months: number | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    remove(id: number, currentUser?: any): Promise<{
        id: number;
        customerId: number | null;
        userId: number | null;
        soldByUserId: number | null;
        fromBranchId: number | null;
        toBranchId: number | null;
        type: import(".prisma/client").$Enums.TransactionType;
        transactionType: string | null;
        status: import(".prisma/client").$Enums.TransactionStatus;
        discount: number;
        total: number;
        finalTotal: number;
        paymentType: import(".prisma/client").$Enums.PaymentType | null;
        upfrontPaymentType: string | null;
        termUnit: string | null;
        deliveryMethod: string | null;
        deliveryType: string | null;
        deliveryAddress: string | null;
        amountPaid: number | null;
        downPayment: number | null;
        remainingBalance: number | null;
        receiptId: string | null;
        description: string | null;
        updatedById: number | null;
        creditRepaymentAmount: number | null;
        lastRepaymentDate: Date | null;
        extraProfit: number | null;
        days: number | null;
        months: number | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    getDebts(params: {
        branchId?: number;
        customerId?: number;
    }): Promise<{
        debts: {
            transactionId: number;
            customer: {
                id: number;
                fullName: string;
                phone: string;
            } | null;
            createdAt: Date;
            paymentType: import(".prisma/client").$Enums.PaymentType | null;
            totalPayable: number;
            totalPaid: number;
            outstanding: number;
            monthlyPayment: number;
            nextDue: {
                month: number;
                amountDue: number;
                remainingBalance: number;
            } | null;
            items: {
                id: number;
                productId: number | null;
                productName: string | undefined;
                quantity: number;
                price: number;
                total: number;
            }[];
        }[];
        customers: {
            customerId: number;
            fullName: string | null;
            phone: string | null;
            totalPayable: number;
            totalPaid: number;
            outstanding: number;
            transactions: {
                transactionId: number;
                customer: {
                    id: number;
                    fullName: string;
                    phone: string;
                } | null;
                createdAt: Date;
                paymentType: import(".prisma/client").$Enums.PaymentType | null;
                totalPayable: number;
                totalPaid: number;
                outstanding: number;
                monthlyPayment: number;
                nextDue: {
                    month: number;
                    amountDue: number;
                    remainingBalance: number;
                } | null;
                items: {
                    id: number;
                    productId: number | null;
                    productName: string | undefined;
                    quantity: number;
                    price: number;
                    total: number;
                }[];
            }[];
        }[];
        summary: {
            totalOutstanding: number;
            totalCustomers: number;
            totalDebtTransactions: number;
        };
    }>;
    getProductSales(params: {
        productId?: number;
        branchId?: number;
        startDate?: string;
        endDate?: string;
    }): Promise<{
        products: {
            productId: number;
            productName: string | null;
            totalQuantity: number;
            totalAmount: number;
        }[];
        daily: {
            date: string;
            totalQuantity: number;
            totalAmount: number;
        }[];
        totals: {
            totalQuantity: number;
            totalAmount: number;
        };
    }>;
    getPaymentSchedules(transactionId: number): Promise<any>;
    updatePaymentStatus(transactionId: number, month: number, paid: boolean): Promise<{
        id: number;
        remainingBalance: number;
        creditRepaymentAmount: number | null;
        createdAt: Date;
        transactionId: number;
        month: number;
        payment: number;
        isPaid: boolean;
        paidAmount: number;
        paidAt: Date | null;
        paidChannel: string | null;
        paidByUserId: number | null;
        repaymentDate: Date | null;
        rating: string | null;
        dueDate: Date | null;
        isDailyInstallment: boolean;
        daysCount: number | null;
        installmentType: string | null;
        totalDays: number | null;
        remainingDays: number | null;
        totalMonths: number | null;
        remainingMonths: number | null;
    }>;
    createTransfer(transferData: any): Promise<any>;
    getTransfersByBranch(branchId: number): Promise<({
        user: {
            id: number;
            status: import(".prisma/client").$Enums.UserStatus;
            createdAt: Date;
            updatedAt: Date;
            phone: string | null;
            firstName: string | null;
            lastName: string | null;
            username: string;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            branchId: number | null;
            workStartTime: string | null;
            workEndTime: string | null;
            workShift: string | null;
        } | null;
        soldBy: {
            id: number;
            status: import(".prisma/client").$Enums.UserStatus;
            createdAt: Date;
            updatedAt: Date;
            phone: string | null;
            firstName: string | null;
            lastName: string | null;
            username: string;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            branchId: number | null;
            workStartTime: string | null;
            workEndTime: string | null;
            workShift: string | null;
        } | null;
        fromBranch: {
            id: number;
            type: import(".prisma/client").$Enums.BranchType;
            status: import(".prisma/client").$Enums.BranchStatus;
            createdAt: Date;
            updatedAt: Date;
            address: string | null;
            name: string;
            cashBalance: number;
            phoneNumber: string | null;
        } | null;
        toBranch: {
            id: number;
            type: import(".prisma/client").$Enums.BranchType;
            status: import(".prisma/client").$Enums.BranchStatus;
            createdAt: Date;
            updatedAt: Date;
            address: string | null;
            name: string;
            cashBalance: number;
            phoneNumber: string | null;
        } | null;
        items: ({
            product: ({
                branch: {
                    id: number;
                    type: import(".prisma/client").$Enums.BranchType;
                    status: import(".prisma/client").$Enums.BranchStatus;
                    createdAt: Date;
                    updatedAt: Date;
                    address: string | null;
                    name: string;
                    cashBalance: number;
                    phoneNumber: string | null;
                };
                category: {
                    id: number;
                    description: string | null;
                    createdAt: Date;
                    updatedAt: Date;
                    name: string;
                    branchId: number | null;
                };
            } & {
                id: number;
                status: import(".prisma/client").$Enums.ProductStatus;
                createdAt: Date | null;
                updatedAt: Date | null;
                name: string;
                quantity: number;
                price: number;
                branchId: number;
                barcode: string | null;
                model: string | null;
                defectiveQuantity: number;
                returnedQuantity: number;
                exchangedQuantity: number;
                initialQuantity: number;
                categoryId: number;
                marketPrice: number | null;
                bonusPercentage: number | null;
                isDeleted: boolean;
                deletedAt: Date | null;
                sizeType: import(".prisma/client").$Enums.ProductSizeType;
                sizeLabel: string | null;
                sizeNumber: number | null;
                areaSqm: number | null;
            }) | null;
        } & {
            id: number;
            status: string | null;
            total: number;
            createdAt: Date;
            updatedAt: Date;
            quantity: number;
            price: number;
            sellingPrice: number | null;
            originalPrice: number | null;
            creditMonth: number | null;
            creditPercent: number | null;
            monthlyPayment: number | null;
            productId: number | null;
            transactionId: number;
        })[];
    } & {
        id: number;
        customerId: number | null;
        userId: number | null;
        soldByUserId: number | null;
        fromBranchId: number | null;
        toBranchId: number | null;
        type: import(".prisma/client").$Enums.TransactionType;
        transactionType: string | null;
        status: import(".prisma/client").$Enums.TransactionStatus;
        discount: number;
        total: number;
        finalTotal: number;
        paymentType: import(".prisma/client").$Enums.PaymentType | null;
        upfrontPaymentType: string | null;
        termUnit: string | null;
        deliveryMethod: string | null;
        deliveryType: string | null;
        deliveryAddress: string | null;
        amountPaid: number | null;
        downPayment: number | null;
        remainingBalance: number | null;
        receiptId: string | null;
        description: string | null;
        updatedById: number | null;
        creditRepaymentAmount: number | null;
        lastRepaymentDate: Date | null;
        extraProfit: number | null;
        days: number | null;
        months: number | null;
        createdAt: Date;
        updatedAt: Date;
    })[]>;
    getPendingTransfers(branchId?: number): Promise<({
        soldBy: {
            id: number;
            status: import(".prisma/client").$Enums.UserStatus;
            createdAt: Date;
            updatedAt: Date;
            phone: string | null;
            firstName: string | null;
            lastName: string | null;
            username: string;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            branchId: number | null;
            workStartTime: string | null;
            workEndTime: string | null;
            workShift: string | null;
        } | null;
        fromBranch: {
            id: number;
            type: import(".prisma/client").$Enums.BranchType;
            status: import(".prisma/client").$Enums.BranchStatus;
            createdAt: Date;
            updatedAt: Date;
            address: string | null;
            name: string;
            cashBalance: number;
            phoneNumber: string | null;
        } | null;
        toBranch: {
            id: number;
            type: import(".prisma/client").$Enums.BranchType;
            status: import(".prisma/client").$Enums.BranchStatus;
            createdAt: Date;
            updatedAt: Date;
            address: string | null;
            name: string;
            cashBalance: number;
            phoneNumber: string | null;
        } | null;
        items: ({
            product: {
                id: number;
                status: import(".prisma/client").$Enums.ProductStatus;
                createdAt: Date | null;
                updatedAt: Date | null;
                name: string;
                quantity: number;
                price: number;
                branchId: number;
                barcode: string | null;
                model: string | null;
                defectiveQuantity: number;
                returnedQuantity: number;
                exchangedQuantity: number;
                initialQuantity: number;
                categoryId: number;
                marketPrice: number | null;
                bonusPercentage: number | null;
                isDeleted: boolean;
                deletedAt: Date | null;
                sizeType: import(".prisma/client").$Enums.ProductSizeType;
                sizeLabel: string | null;
                sizeNumber: number | null;
                areaSqm: number | null;
            } | null;
        } & {
            id: number;
            status: string | null;
            total: number;
            createdAt: Date;
            updatedAt: Date;
            quantity: number;
            price: number;
            sellingPrice: number | null;
            originalPrice: number | null;
            creditMonth: number | null;
            creditPercent: number | null;
            monthlyPayment: number | null;
            productId: number | null;
            transactionId: number;
        })[];
    } & {
        id: number;
        customerId: number | null;
        userId: number | null;
        soldByUserId: number | null;
        fromBranchId: number | null;
        toBranchId: number | null;
        type: import(".prisma/client").$Enums.TransactionType;
        transactionType: string | null;
        status: import(".prisma/client").$Enums.TransactionStatus;
        discount: number;
        total: number;
        finalTotal: number;
        paymentType: import(".prisma/client").$Enums.PaymentType | null;
        upfrontPaymentType: string | null;
        termUnit: string | null;
        deliveryMethod: string | null;
        deliveryType: string | null;
        deliveryAddress: string | null;
        amountPaid: number | null;
        downPayment: number | null;
        remainingBalance: number | null;
        receiptId: string | null;
        description: string | null;
        updatedById: number | null;
        creditRepaymentAmount: number | null;
        lastRepaymentDate: Date | null;
        extraProfit: number | null;
        days: number | null;
        months: number | null;
        createdAt: Date;
        updatedAt: Date;
    })[]>;
    private updateProductQuantitiesForTransfer;
    approveTransfer(id: number, approvedById: number): Promise<any>;
    rejectTransfer(id: number): Promise<any>;
    getStatistics(branchId?: number, startDate?: string, endDate?: string): Promise<{
        totalSales: any;
        totalTransactions: any;
        creditSales: any;
        creditTransactions: any;
        cashSales: any;
        cashTransactions: any;
        cardSales: any;
        cardTransactions: any;
        totalPurchases: any;
        purchaseTransactions: any;
        totalTransfers: any;
        transferTransactions: any;
        upfrontCashTotal: any;
        upfrontCashTransactions: any;
        upfrontCardTotal: any;
        upfrontCardTransactions: any;
        creditRepaymentsCash: any;
        creditRepaymentsCard: any;
        totalCreditRepayments: any;
        creditRepaymentTransactions: any;
    }>;
    getTransactionWithCurrencyConversion(id: number, branchId?: number): Promise<any>;
    getTransactionsWithCurrencyConversion(branchId?: number, startDate?: string, endDate?: string): Promise<{
        transactions: {
            totalInSom: number;
            finalTotalInSom: number;
            totalInDollar: number;
            finalTotalInDollar: number;
            customer: {
                id: number;
                createdAt: Date;
                updatedAt: Date;
                fullName: string;
                phone: string;
                email: string | null;
                address: string | null;
                passportSeries: string | null;
                jshshir: string | null;
            } | null;
            user: {
                id: number;
                status: import(".prisma/client").$Enums.UserStatus;
                createdAt: Date;
                updatedAt: Date;
                phone: string | null;
                firstName: string | null;
                lastName: string | null;
                username: string;
                password: string | null;
                role: import(".prisma/client").$Enums.UserRole;
                branchId: number | null;
                workStartTime: string | null;
                workEndTime: string | null;
                workShift: string | null;
            } | null;
            soldBy: {
                id: number;
                status: import(".prisma/client").$Enums.UserStatus;
                createdAt: Date;
                updatedAt: Date;
                phone: string | null;
                firstName: string | null;
                lastName: string | null;
                username: string;
                password: string | null;
                role: import(".prisma/client").$Enums.UserRole;
                branchId: number | null;
                workStartTime: string | null;
                workEndTime: string | null;
                workShift: string | null;
            } | null;
            fromBranch: {
                id: number;
                type: import(".prisma/client").$Enums.BranchType;
                status: import(".prisma/client").$Enums.BranchStatus;
                createdAt: Date;
                updatedAt: Date;
                address: string | null;
                name: string;
                cashBalance: number;
                phoneNumber: string | null;
            } | null;
            toBranch: {
                id: number;
                type: import(".prisma/client").$Enums.BranchType;
                status: import(".prisma/client").$Enums.BranchStatus;
                createdAt: Date;
                updatedAt: Date;
                address: string | null;
                name: string;
                cashBalance: number;
                phoneNumber: string | null;
            } | null;
            items: ({
                product: {
                    id: number;
                    status: import(".prisma/client").$Enums.ProductStatus;
                    createdAt: Date | null;
                    updatedAt: Date | null;
                    name: string;
                    quantity: number;
                    price: number;
                    branchId: number;
                    barcode: string | null;
                    model: string | null;
                    defectiveQuantity: number;
                    returnedQuantity: number;
                    exchangedQuantity: number;
                    initialQuantity: number;
                    categoryId: number;
                    marketPrice: number | null;
                    bonusPercentage: number | null;
                    isDeleted: boolean;
                    deletedAt: Date | null;
                    sizeType: import(".prisma/client").$Enums.ProductSizeType;
                    sizeLabel: string | null;
                    sizeNumber: number | null;
                    areaSqm: number | null;
                } | null;
            } & {
                id: number;
                status: string | null;
                total: number;
                createdAt: Date;
                updatedAt: Date;
                quantity: number;
                price: number;
                sellingPrice: number | null;
                originalPrice: number | null;
                creditMonth: number | null;
                creditPercent: number | null;
                monthlyPayment: number | null;
                productId: number | null;
                transactionId: number;
            })[];
            id: number;
            customerId: number | null;
            userId: number | null;
            soldByUserId: number | null;
            fromBranchId: number | null;
            toBranchId: number | null;
            type: import(".prisma/client").$Enums.TransactionType;
            transactionType: string | null;
            status: import(".prisma/client").$Enums.TransactionStatus;
            discount: number;
            total: number;
            finalTotal: number;
            paymentType: import(".prisma/client").$Enums.PaymentType | null;
            upfrontPaymentType: string | null;
            termUnit: string | null;
            deliveryMethod: string | null;
            deliveryType: string | null;
            deliveryAddress: string | null;
            amountPaid: number | null;
            downPayment: number | null;
            remainingBalance: number | null;
            receiptId: string | null;
            description: string | null;
            updatedById: number | null;
            creditRepaymentAmount: number | null;
            lastRepaymentDate: Date | null;
            extraProfit: number | null;
            days: number | null;
            months: number | null;
            createdAt: Date;
            updatedAt: Date;
        }[];
        pagination: {
            page: number;
            limit: number;
            total: number;
            pages: number;
        };
    }>;
    private calculateAndCreateSalesBonuses;
}
